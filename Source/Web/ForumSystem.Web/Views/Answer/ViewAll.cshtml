@model IEnumerable<AnswerViewModel>

@using ForumSystem.Web.ViewModels.Answers;

<div class="panel panel-success">
    @if (Model.FirstOrDefault() != null)
    {
        <div>
            <h3>
                <span class="glyphicon glyphicon-question-sign" aria-hidden="true"></span>
                @Model.FirstOrDefault().Post.Title
            </h3>
        </div>
        <div class="panel-body">
            <p>@Html.Raw(Model.FirstOrDefault().Post.Content)</p>
            <span class="label label-success">
                @Html.ActionLink("Add comment", "Create", "Answer", new { id = Model.FirstOrDefault().PostId }, null)
            </span>
            <hr />
        </div>
    }
    @foreach (var answer in Model)
    {
        <div class="panel-body">
            <span class="glyphicon glyphicon-pencil" aria-hidden="true">
                @if (@answer.Author != null)
                {
                    <p>@answer.Author.FullName  PUBLISHED @answer.CreatedOn</p>
                }
            </span>
            @Html.Raw(answer.Content)
        </div>
        <div>
            <button type="button" class="btn btn-secondary" data-toggle="tooltip" data-placement="bottom" title="Tooltip on left">
                @Html.ActionLink("Delete", "Delete", "Answer", new { id = answer.Id }, null)
            </button>

            <span class="glyphicon glyphicon-hand-up" aria-hidden="true"></span>
            @Html.ActionLink(" Rate up", "Rate", "Answer", new { id = answer.Id }, null)
            @answer.RatingUp


            @Html.ActionLink(" Rate down", "RateDown", "Answer", new { id = answer.Id }, null)
            <span class="glyphicon glyphicon-thumbs-down" aria-hidden="true"></span>
            @answer.RatingDown
        </div>
        <hr />
    }
</div>
